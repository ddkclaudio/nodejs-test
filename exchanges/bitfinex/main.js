const Bitfinex = require('./Bitfinex')
const bitfinex = new Bitfinex(["BTCUSD","ETHUSD"]);





// // https://github.com/bitfinexcom/bitfinex-api-node/blob/master/examples/ws2/order_books.js
// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================
// // CONFIGURANDO API
// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================

// const BFX = require('bitfinex-api-node')

// const bfx = new BFX({
//     ws: {
//         autoReconnect: true,
//         seqAudit: true,
//         packetWDDelay: 10 * 1000
//     }
// })

// let ws = bfx.ws(2, {
//     manageOrderBooks: true, // tell the ws client to maintain full sorted OBs
//     transform: true // auto-transform array OBs to OrderBook objects
// })

// ws.on('error', (err) => {
//     console.log('error: %j', err)
// })

// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================
// // INSCREVENDO PARA A MOEDA CORRETA
// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================

// ws.on('open', () => {
//     console.log('open')
//     ws.subscribeOrderBook('tBTCUSD', 'R0', 100)
//     ws.subscribeTrades('BTCUSD')
//     ws.subscribeTrades('ETHUSD')
// })

// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================
// // RECEBENDO O BOOK
// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================

// // 'ob' is a full OrderBook instance, with sorted arrays 'bids' & 'asks'
// ws.onOrderBook({ symbol: 'tBTCUSD' }, (ob) => {
//     // console.log(ob);
// })

// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================
// // RECEBENDO O t&t
// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================
// // https://www.npmjs.com/package/bitfinex-api-node

// const a = ["tBTCUSD","tETHUSD"]

// a.forEach(function(coin) {
//     ws.onTrades({ symbol: coin }, (trades) => {
//         // console.log(coin,`trades: ${JSON.stringify(trades)}`)
//     })    
// })


// // ws.onTrades({ symbol: 'tBTCUSD' }, (trades) => {
// //     console.log("tBTCUSD",`trades: ${JSON.stringify(trades)}`)
// // })

// // ws.onTrades({ symbol: 'tETHUSD' }, (trades) => {
// //     console.log("tETHUSD",`trades: ${JSON.stringify(trades)}`)
// // })




// ws.open()

// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================
// // PEGANDO TODOS OS SYMBOLOS
// // ========================================================================================================
// // ========================================================================================================
// // ========================================================================================================

// const rest = bfx.rest(2)
// rest.symbols().then(symbols => {
//     // console.log(JSON.stringify(symbols))
// }).catch(err => {
//     console.log('error: %j', err)
// })



// // yfrpJA5MwzgeNWR